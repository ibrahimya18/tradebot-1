{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VESTEL\\\\Desktop\\\\tradebot\\\\src\\\\components\\\\CandleChart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from 'react';\nimport { Chart as ChartJS, CategoryScale, LinearScale, TimeScale, Tooltip, Legend } from 'chart.js';\nimport { CandlestickController, CandlestickElement } from 'chartjs-chart-financial';\nimport { Chart } from 'react-chartjs-2';\nimport 'chartjs-adapter-date-fns';\nimport useMexcCandles from '../hooks/useWebSocket';\n\n// Chart.js bileşenlerini kaydediyoruz\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, TimeScale, CandlestickController, CandlestickElement, Tooltip, Legend);\nexport const CandleChart = ({\n  priceData,\n  interval,\n  onIntervalChange,\n  currentPrice\n}) => {\n  _s();\n  const candles = useMexcCandles('dogeusdt', '1m');\n  const lastTimestamp = useMemo(() => {\n    var _lastData$x;\n    if (priceData.length === 0) return null;\n    const lastData = priceData[priceData.length - 1];\n    return lastData !== null && lastData !== void 0 && (_lastData$x = lastData.x) !== null && _lastData$x !== void 0 && _lastData$x.getTime ? lastData.x.getTime() : null;\n  }, [priceData]);\n  const data = {\n    datasets: [{\n      label: 'DOGE/USDT',\n      data: priceData,\n      color: {\n        up: 'rgba(0, 255, 0, 1)',\n        down: 'rgba(255, 0, 0, 1)',\n        unchanged: 'rgba(128, 128, 128, 1)'\n      },\n      borderWidth: 1\n    }]\n  };\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: {\n      x: {\n        type: 'time',\n        time: {\n          unit: interval === '1d' ? 'day' : interval === '4h' ? 'hour' : 'minute',\n          tooltipFormat: 'yyyy-MM-dd HH:mm'\n        },\n        title: {\n          display: true,\n          text: 'Time'\n        }\n      },\n      y: {\n        title: {\n          display: true,\n          text: 'Price (USDT)'\n        }\n      }\n    },\n    plugins: {\n      tooltip: {\n        callbacks: {\n          label: context => {\n            const ohlc = context.raw;\n            if (!ohlc) return '';\n            return `O: ${ohlc.o}, H: ${ohlc.h}, L: ${ohlc.l}, C: ${ohlc.c}`;\n          }\n        }\n      },\n      legend: {\n        display: false\n      }\n    }\n  };\n  const buttonStyle = buttonInterval => ({\n    backgroundColor: interval === buttonInterval ? '#90EE90' : 'transparent',\n    border: '1px solid #ccc',\n    padding: '5px 10px',\n    borderRadius: '5px',\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    transition: 'background-color 0.3s',\n    marginRight: '8px'\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      height: '500px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 10,\n        fontSize: '18px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"Current Price: \", currentPrice || 'Loading...', \" USDT\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), lastTimestamp && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 10,\n        fontSize: '16px',\n        fontWeight: 'bold'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"Last Updated: \", new Date(lastTimestamp).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 10\n      },\n      children: ['1m', '15m', '60m', '4h', '1d'].map(i => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onIntervalChange(i),\n        style: buttonStyle(i),\n        children: i\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Chart, {\n      type: \"candlestick\",\n      data: data,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n_s(CandleChart, \"8cRn15nPkWZwDTPIa4giOqudeLc=\", false, function () {\n  return [useMexcCandles];\n});\n_c = CandleChart;\nvar _c;\n$RefreshReg$(_c, \"CandleChart\");","map":{"version":3,"names":["React","useMemo","Chart","ChartJS","CategoryScale","LinearScale","TimeScale","Tooltip","Legend","CandlestickController","CandlestickElement","useMexcCandles","jsxDEV","_jsxDEV","register","CandleChart","priceData","interval","onIntervalChange","currentPrice","_s","candles","lastTimestamp","_lastData$x","length","lastData","x","getTime","data","datasets","label","color","up","down","unchanged","borderWidth","options","responsive","maintainAspectRatio","scales","type","time","unit","tooltipFormat","title","display","text","y","plugins","tooltip","callbacks","context","ohlc","raw","o","h","l","c","legend","buttonStyle","buttonInterval","backgroundColor","border","padding","borderRadius","fontWeight","cursor","transition","marginRight","style","width","height","children","marginBottom","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","Date","toLocaleString","map","i","onClick","_c","$RefreshReg$"],"sources":["C:/Users/VESTEL/Desktop/tradebot/src/components/CandleChart.jsx"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  TimeScale,\r\n  Tooltip,\r\n  Legend\r\n} from 'chart.js';\r\nimport { CandlestickController, CandlestickElement } from 'chartjs-chart-financial';\r\nimport { Chart } from 'react-chartjs-2';\r\nimport 'chartjs-adapter-date-fns';\r\nimport useMexcCandles from '../hooks/useWebSocket';\r\n\r\n// Chart.js bileşenlerini kaydediyoruz\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  TimeScale,\r\n  CandlestickController,\r\n  CandlestickElement,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\nexport const CandleChart = ({ priceData, interval, onIntervalChange, currentPrice }) => {\r\n  const candles=useMexcCandles('dogeusdt','1m')\r\n  const lastTimestamp = useMemo(() => {\r\n    if (priceData.length === 0) return null;\r\n    const lastData = priceData[priceData.length - 1];\r\n    return lastData?.x?.getTime ? lastData.x.getTime() : null;\r\n  }, [priceData]);\r\n\r\n  const data = {\r\n    datasets: [\r\n      {\r\n        label: 'DOGE/USDT',\r\n        data: priceData,\r\n        color: {\r\n          up: 'rgba(0, 255, 0, 1)',\r\n          down: 'rgba(255, 0, 0, 1)',\r\n          unchanged: 'rgba(128, 128, 128, 1)',\r\n        },\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    scales: {\r\n      x: {\r\n        type: 'time',\r\n        time: {\r\n          unit: interval === '1d' ? 'day' : interval === '4h' ? 'hour' : 'minute',\r\n          tooltipFormat: 'yyyy-MM-dd HH:mm',\r\n        },\r\n        title: {\r\n          display: true,\r\n          text: 'Time',\r\n        },\r\n      },\r\n      y: {\r\n        title: {\r\n          display: true,\r\n          text: 'Price (USDT)',\r\n        },\r\n      },\r\n    },\r\n    plugins: {\r\n      tooltip: {\r\n        callbacks: {\r\n          label: (context) => {\r\n            const ohlc = context.raw;\r\n            if (!ohlc) return '';\r\n            return `O: ${ohlc.o}, H: ${ohlc.h}, L: ${ohlc.l}, C: ${ohlc.c}`;\r\n          },\r\n        },\r\n      },\r\n      legend: {\r\n        display: false,\r\n      },\r\n    },\r\n  };\r\n\r\n  const buttonStyle = (buttonInterval) => ({\r\n    backgroundColor: interval === buttonInterval ? '#90EE90' : 'transparent',\r\n    border: '1px solid #ccc',\r\n    padding: '5px 10px',\r\n    borderRadius: '5px',\r\n    fontWeight: 'bold',\r\n    cursor: 'pointer',\r\n    transition: 'background-color 0.3s',\r\n    marginRight: '8px',\r\n  });\r\n\r\n  return (\r\n    <div style={{ width: '100%', height: '500px' }}>\r\n      <div style={{ marginBottom: 10, fontSize: '18px' }}>\r\n        <strong>Current Price: {currentPrice || 'Loading...'} USDT</strong>\r\n      </div>\r\n\r\n      {lastTimestamp && (\r\n        <div style={{ marginBottom: 10, fontSize: '16px', fontWeight: 'bold' }}>\r\n          <strong>Last Updated: {new Date(lastTimestamp).toLocaleString()}</strong>\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ marginBottom: 10 }}>\r\n        {['1m','15m', '60m', '4h', '1d'].map((i) => (\r\n          <button key={i} onClick={() => onIntervalChange(i)} style={buttonStyle(i)}>\r\n            {i}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      <Chart type=\"candlestick\" data={data} options={options} />\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}