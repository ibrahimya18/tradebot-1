{"ast":null,"code":"import axios from 'axios';\nimport CryptoJS from 'crypto-js';\n\n// Remove the baseURL or set it to the correct MEXC API URL\naxios.defaults.baseURL = 'https://api.mexc.com/api/v3';\nexport const getBalance = async (apiKey, secretKey) => {\n  const timestamp = Date.now();\n  const queryString = `timestamp=${timestamp}`;\n  const signature = CryptoJS.HmacSHA256(queryString, secretKey).toString(CryptoJS.enc.Hex);\n  try {\n    const response = await axios.get(`/account?${queryString}&signature=${signature}`, {\n      headers: {\n        'X-MEXC-APIKEY': apiKey\n      }\n    });\n    return response.data.balances.find(b => b.asset === 'USDT');\n  } catch (error) {\n    console.error('Error fetching balance:', error);\n    return null;\n  }\n};\nexport const getDogeUsdtPrice = async () => {\n  try {\n    const response = await axios.get('/ticker/price?symbol=DOGEUSDT');\n    return parseFloat(response.data.price);\n  } catch (error) {\n    console.error('Error fetching DOGE price:', error);\n    return 0;\n  }\n};\nexport const getPriceHistory = async () => {\n  try {\n    const response = await axios.get('/klines?symbol=DOGEUSDT&interval=1m&limit=100');\n    return response.data.map(k => parseFloat(k[4])); // Closing prices\n  } catch (error) {\n    console.error('Error fetching price history:', error);\n    return Array(100).fill(0.15); // Fallback data\n  }\n};\nexport const placeOrder = async order => {\n  const timestamp = Date.now();\n  const queryString = `symbol=DOGEUSDT&side=${order.side}&type=LIMIT&quantity=${order.amount}&price=${order.price}&timestamp=${timestamp}`;\n  const signature = CryptoJS.HmacSHA256(queryString, order.secretKey).toString(CryptoJS.enc.Hex);\n  try {\n    const response = await axios.post('/order', `${queryString}&signature=${signature}`, {\n      headers: {\n        'X-MEXC-APIKEY': order.apiKey,\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error placing order:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","CryptoJS","defaults","baseURL","getBalance","apiKey","secretKey","timestamp","Date","now","queryString","signature","HmacSHA256","toString","enc","Hex","response","get","headers","data","balances","find","b","asset","error","console","getDogeUsdtPrice","parseFloat","price","getPriceHistory","map","k","Array","fill","placeOrder","order","side","amount","post"],"sources":["C:/Users/VESTEL/Documents/GitHub/tradebot/src/services/api.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport CryptoJS from 'crypto-js';\r\n\r\n// Remove the baseURL or set it to the correct MEXC API URL\r\naxios.defaults.baseURL = 'https://api.mexc.com/api/v3'; \r\n\r\nexport const getBalance = async (apiKey, secretKey) => {\r\n  const timestamp = Date.now();\r\n  const queryString = `timestamp=${timestamp}`;\r\n  const signature = CryptoJS.HmacSHA256(queryString, secretKey).toString(CryptoJS.enc.Hex);\r\n\r\n  try {\r\n    const response = await axios.get(`/account?${queryString}&signature=${signature}`, {\r\n      headers: {\r\n        'X-MEXC-APIKEY': apiKey\r\n      }\r\n    });\r\n    return response.data.balances.find(b => b.asset === 'USDT');\r\n  } catch (error) {\r\n    console.error('Error fetching balance:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const getDogeUsdtPrice = async () => {\r\n  try {\r\n    const response = await axios.get('/ticker/price?symbol=DOGEUSDT');\r\n    return parseFloat(response.data.price); \r\n  } catch (error) {\r\n    console.error('Error fetching DOGE price:', error);\r\n    return 0;\r\n  }\r\n};\r\n\r\nexport const getPriceHistory = async () => {\r\n  try {\r\n    const response = await axios.get('/klines?symbol=DOGEUSDT&interval=1m&limit=100');\r\n    return response.data.map(k => parseFloat(k[4])); // Closing prices\r\n  } catch (error) {\r\n    console.error('Error fetching price history:', error);\r\n    return Array(100).fill(0.15); // Fallback data\r\n  }\r\n}; \r\n\r\nexport const placeOrder = async (order) => {\r\n  const timestamp = Date.now();\r\n  const queryString = `symbol=DOGEUSDT&side=${order.side}&type=LIMIT&quantity=${order.amount}&price=${order.price}&timestamp=${timestamp}`;\r\n  const signature = CryptoJS.HmacSHA256(queryString, order.secretKey).toString(CryptoJS.enc.Hex);\r\n\r\n  try {\r\n    const response = await axios.post('/order', `${queryString}&signature=${signature}`, {\r\n      headers: {\r\n        'X-MEXC-APIKEY': order.apiKey,\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      }\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error placing order:', error);\r\n    throw error;\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}